---
title: Playing with basemaps
---
So, before you add any data to your map, you need a baselayer. There are various styles and packages to get these, which I've recently learned about - you can just add boundaries of areas but also streets, terrain, or satellite pictures. I particularly like the [stamen](http://maps.stamen.com/#terrain/12/37.7706/-122.3782) map styles. In this post, I will show two basemaps for the UK and Scotland. 

Often when you're mapping data you don't get to see the baselayer (although you can make the top layer transparent), so this is a chance to make something purely for aesthetical appeal!


```r
library(ggmap)
library(sf)
library(tmap)

# Let's first try to make a watercolour map of Scotland with get_map by pulling a Google map
# A quick google search for Scotland's coordinates
scotland <- c(lon = -3.188267, lat = 55 )

scotland_map <- get_map(scotland, zoom= 13, maptype = 'watercolor',
                        scale = 1, source = 'stamen') 
```
This doesn't work for me ,as Google now requires an API key, which you have to pay for after a trial. See `?register_google` for details.

Next, I searched for a way to get pretty stamen maps without google API and found a couple of blog posts like [this one](https://www.r-bloggers.com/2018/10/getting-started-stamen-maps-with-ggmap/) which were a lot more thorough than this ramble!

I got a shapefile with boundaries of UK countries from [ONS](https://geoportal.statistics.gov.uk/datasets/ons::countries-december-2021-gb-bfc/about).

```r
countries_shp <- st_read("CTRY_DEC_2021_GB_BFC.shp")

colnames(countries_shp)
str(countries_shp)

# Subset the sf object if we want to just look at Scotland
ukmap_sub <- countries_shp[countries_shp$CTRY21NM %in% "Scotland",]

# By using st's plot, we can create a simple basemap 
plot(st_geometry(ukmap_sub)) # don't just do 'plot', as it will plot the whole dataframe,  each variable so it takes ages
```
The basemap with boundaries looks like this: 
![Scotland basemap](images/scotland_boundarymap.png)

Next, for "get_stamenmap", we need to create something called a boundary boxthis won't create a boundary box probably because I'm not giving it coordinates.

```r
borders <- st_bbox(ukmap_sub)
# this creates an error
map <- get_stamenmap(borders, zoom = 5, maptype = "toner-lite")
```
Okay, I didn't understand this boundary box thing until I got to work on a more powerful computer and it actually created a box with the numbers I put in and I understood you're putting in the longitude and latitude to zoom in on a map of the world.

```r
uk <- c(left = -11, bottom = 49, right =  3, top = 62)

get_stamenmap(uk, zoom = 5,"toner-lite") %>% ggmap()

# ok that's fine
# let's try another nicer style
get_stamenmap(uk, zoom = 5, "watercolor") %>% ggmap()
```
There we go! That's so nice you don't wanna overlay any data on it ;)

![UK watercolour basemap](images/uk_watercolour.png)